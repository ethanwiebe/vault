{
	"srcDirs":["src"],
	"outputName":"vault",
	"defaultMode":"%platform",
	
	"outputDir":[
		"bin",
		"%modeLast"
	],
	"objDir":[
		"build",
		"%modeLast"
	],
	"cCompileCmd":[
		"gcc -c",
		"%compileFlags"
	],
	"cLinkCmd":[
		"ar rsv",
		"%linkFlags"
	],
	"cppCompileCmd":[
		"g++ -c",
		"%compileFlags"
	],
	"cppLinkCmd":[
		"g++",
		"%linkFlags"
	],
	
	"cCompileFlags":[
		"--std=c99",
		"-O3",
		"-Wall",
		"-Wpedantic",
		"-finline-functions",
		"-o",
		"%out",
		"%in"
	],
	"cLinkFlags":[
		"%out",
		"%in"
	],
	
	"cppCompileFlags":[
		"--std=c++20",
		"-o",
		"%out",
		"-Wall",
		"-Wextra",
		"-fno-exceptions",
		"-fno-rtti",
		"-pedantic",
		"%in"
	],
	"cppLinkFlags":[
		"-o",
		"%out",
		"%in",
		"-Lbuild",
		"%libStyle",
		"%libs"
	],
	"defaultModes":{
		"release":"%releaseMode",
		"debug":"%debugMode",
		"size":"%sizeMode"
	},
	
	"libsha3Mode":{
		"outputName":"libsha3.a",
		"srcExts":["c"],
		"srcDirs":[["src","sha3"]],
		"outputDir":"build",
		"compileFlags":["%cCompileFlags"],
		"linkFlags":["%cLinkFlags"],
		"compileCmd":["%cCompileCmd"],
		"linkCmd":["%cLinkCmd"]
	},
	"releaseMode":{
		"preCmds":[
			[
				"%self",
				"libsha3"
			]
		],
		"srcExts":["cpp"],
		"outputDir":"bin",
		"compileFlags":[
			"%cppCompileFlags",
			"-O3",
			"-DNDEBUG",
			"-finline-functions"
		],
		"linkFlags":[
			"%cppLinkFlags",
			"-s"
		],
		"compileCmd":["%cppCompileCmd"],
		"linkCmd":["%cppLinkCmd"]
	},
	"debugMode":{
		"compileFlags":[
			"%cppCompileFlags",
			"-ggdb3",
			"-Og"
		],
		"srcExts":["cpp"],
		"linkFlags":["%cppLinkFlags"],
		"compileCmd":["%cppCompileCmd"],
		"linkCmd":["%cppLinkCmd"]
	},
	"sizeMode":{
		"compileFlags":[
			"%cppCompileFlags",
			"-Os",
			"-fdata-sections",
			"-ffunction-sections",
			"-fvisibility=hidden",
			"-fvisibility-inlines-hidden",
			"-DNDEBUG"
		],
		"linkFlags":[
			"-s",
			"-Wl,--gc-sections",
			"-Bsymbolic",
			"-Wl,--exclude-libs,ALL",
			"%cppLinkFlags"
		],
		"srcExts":["cpp"],
		
		"compileCmd":["%cppCompileCmd"],
		"linkCmd":["%cppLinkCmd"]
	},
	"modes":{
		"linux":{
			"libStyle":"",
			"libs":[
				"-lsha3",
				"-lxcb",
				"-lpthread"
			],
			"modes":"%defaultModes"
		},
		"windows":{
			"libStyle":"-static",
			"libs":"-lsha3",
			"modes":"%defaultModes"
		},
		"libsha3":"%libsha3Mode"
	}
}
